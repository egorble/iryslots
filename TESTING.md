# üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è SlotMachineBank –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É

## üìã –û–≥–ª—è–¥ —Ç–µ—Å—Ç—ñ–≤

–°—Ç–≤–æ—Ä–µ–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É —Å–∏—Å—Ç–µ–º—É —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—É SlotMachineBank.

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

### –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫
```bash
npm run test
```

### –ü–æ–≤–Ω–∏–π —Ü–∏–∫–ª —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
```bash
npm run test:full  # –í–∫–ª—é—á–∞—î –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ñ–æ–Ω–¥—É + —Ç–µ—Å—Ç–∏
```

### –û–∫—Ä–µ–º—ñ –∫–æ–º–∞–Ω–¥–∏
```bash
npm run fund       # –ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ñ–æ–Ω–¥—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
npm run test       # –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤
```

## üî¨ –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Ç–µ—Å—Ç—ñ–≤

### –¢–µ—Å—Ç 1: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –≤–ª–∞—Å–Ω–∏–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Å–µ—Ä–≤–µ—Ä–Ω–∏–π –≥–∞–º–∞–Ω–µ—Ü—å
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –¥–µ–ø–æ–∑–∏—Ç
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –±–∞–ª–∞–Ω—Å–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É —Ç–∞ –≥–∞–º–∞–Ω—Ü—ñ–≤
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Å—Ç–∞–Ω –ø–∞—É–∑–∏

### –¢–µ—Å—Ç 2: –î–µ–ø–æ–∑–∏—Ç –≥—Ä–∞–≤—Ü—è
- ‚úÖ –¢–µ—Å—Ç—É—î —Ñ—É–Ω–∫—Ü—ñ—é `deposit()`
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É –≥—Ä–∞–≤—Ü—è
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –ø–æ–¥—ñ—ó `Deposit`
- ‚úÖ –¢–µ—Å—Ç—É—î –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É —Å—É–º—É –¥–µ–ø–æ–∑–∏—Ç—É

### –¢–µ—Å—Ç 3: –Ü–º—ñ—Ç–∞—Ü—ñ—è –≥—Ä–∏
- ‚úÖ –¢–µ—Å—Ç—É—î —Ñ—É–Ω–∫—Ü—ñ—é `updateBalance()` (—Ç—ñ–ª—å–∫–∏ —Å–µ—Ä–≤–µ—Ä)
- ‚úÖ –Ü–º—ñ—Ç—É—î –ø—Ä–æ–≥—Ä–∞—à (–≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è —Å—Ç–∞–≤–∫–∏)
- ‚úÖ –Ü–º—ñ—Ç—É—î –≤–∏–≥—Ä–∞—à (–¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤–∏–≥—Ä–∞—à—É)
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ñ—É–Ω–∫—Ü—ñ—é `hasSufficientBalance()`
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –ø–æ–¥—ñ–π `BalanceUpdated`

### –¢–µ—Å—Ç 4: –í–∏–≤—ñ–¥ –∫–æ—à—Ç—ñ–≤
- ‚úÖ –¢–µ—Å—Ç—É—î —Ñ—É–Ω–∫—Ü—ñ—é `withdraw()`
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–≥—Ä–æ–≤–æ–≥–æ –±–∞–ª–∞–Ω—Å—É
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –ø–µ—Ä–µ–∫–∞–∑ –Ω–∞—Ç–∏–≤–Ω–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –ø–æ–¥—ñ—ó `Withdrawal`

### –¢–µ—Å—Ç 5: –ú–Ω–æ–∂–∏–Ω–Ω—ñ –≥—Ä–∞–≤—Ü—ñ
- ‚úÖ –°—Ç–≤–æ—Ä—é—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
- ‚úÖ –§—ñ–Ω–∞–Ω—Å—É—î —ó—Ö –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ –¢–µ—Å—Ç—É—î –¥–µ–ø–æ–∑–∏—Ç–∏ –≤—ñ–¥ —Ä—ñ–∑–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤
- ‚úÖ –Ü–º—ñ—Ç—É—î –≥—Ä—É –¥–ª—è –∫—ñ–ª—å–∫–æ—Ö –≥—Ä–∞–≤—Ü—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î —ñ–∑–æ–ª—è—Ü—ñ—é –±–∞–ª–∞–Ω—Å—ñ–≤

### –¢–µ—Å—Ç 6: –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- ‚úÖ –¢–µ—Å—Ç—É—î `updateMinDeposit()` (—Ç—ñ–ª—å–∫–∏ –≤–ª–∞—Å–Ω–∏–∫)
- ‚úÖ –¢–µ—Å—Ç—É—î `pause()` —Ç–∞ `unpause()` (—Ç—ñ–ª—å–∫–∏ –≤–ª–∞—Å–Ω–∏–∫)
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏—Ö –ø–æ–¥—ñ–π

### –¢–µ—Å—Ç 7: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ñ—É–Ω–∫—Ü—ñ—é `getContractStats()`
- ‚úÖ –í–∏–≤–æ–¥–∏—Ç—å —Ñ—ñ–Ω–∞–ª—å–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```
üèÅ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!
‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ: 7
‚ùå –ü—Ä–æ–≤–∞–ª–µ–Ω–æ: 0
üìä –ó–∞–≥–∞–ª—å–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 7/7
üéâ –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ! –ö–æ–Ω—Ç—Ä–∞–∫—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.
```

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤

### –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ –≥–∞–º–∞–Ω—Ü—ñ:
- **–ì—Ä–∞–≤–µ—Ü—å/–í–ª–∞—Å–Ω–∏–∫**: –û—Å–Ω–æ–≤–Ω–∏–π –≥–∞–º–∞–Ω–µ—Ü—å –∑ `PRIVATE_KEY`
- **–°–µ—Ä–≤–µ—Ä**: –°–µ—Ä–≤–µ—Ä–Ω–∏–π –≥–∞–º–∞–Ω–µ—Ü—å –∑ `SERVER_WALLET_KEY`
- **–î–æ–¥–∞—Ç–∫–æ–≤—ñ –≥—Ä–∞–≤—Ü—ñ**: –ì–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–ª—è —Ç–µ—Å—Ç—ñ–≤

### –¢–µ—Å—Ç–æ–≤—ñ —Å—É–º–∏:
- **–î–µ–ø–æ–∑–∏—Ç**: 0.1 IRYS
- **–°—Ç–∞–≤–∫–∞**: 0.01 IRYS
- **–í–∏–≥—Ä–∞—à**: 0.05 IRYS
- **–í–∏–≤—ñ–¥**: 50% –≤—ñ–¥ –±–∞–ª–∞–Ω—Å—É
- **–§—ñ–Ω–∞–Ω—Å—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤**: 0.05 IRYS –∫–æ–∂–Ω–æ–º—É

## üõ°Ô∏è –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏

### –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É:
- ‚úÖ –¢—ñ–ª—å–∫–∏ —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `updateBalance()`
- ‚úÖ –¢—ñ–ª—å–∫–∏ –≤–ª–∞—Å–Ω–∏–∫ –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- ‚úÖ –ì—Ä–∞–≤—Ü—ñ –º–æ–∂—É—Ç—å —Ç—ñ–ª—å–∫–∏ –¥–µ–ø–æ–∑–∏—Ç–∏ —Ç–∞ –≤–∏–≤–æ–¥–∏

### –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ–º–∏–ª–æ–∫:
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏—Ö —Å—É–º
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–Ω–æ—Å—Ç—ñ –±–∞–ª–∞–Ω—Å—É
- ‚úÖ –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ —Ä–µ–µ–Ω—Ç—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—ñ
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∞–ª—ñ–¥–Ω–æ—Å—Ç—ñ –∞–¥—Ä–µ—Å

### –°—Ç–∞–Ω–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É:
- ‚úÖ –§—É–Ω–∫—Ü—ñ—ó –±–ª–æ–∫—É—é—Ç—å—Å—è –ø—Ä–∏ –ø–∞—É–∑—ñ
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –ø–∞—É–∑–∏

## üîç –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥—ñ–π

–¢–µ—Å—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –ø–æ–¥—ñ–π:
- `Deposit(address player, uint256 amount, uint256 newBalance)`
- `Withdrawal(address player, uint256 amount, uint256 newBalance)`
- `BalanceUpdated(address player, int256 change, uint256 newBalance, string reason)`
- `MinDepositUpdated(uint256 oldAmount, uint256 newAmount)`
- `Paused(address account)`
- `Unpaused(address account)`

## üö® –í—ñ–¥–æ–º—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è

1. **–ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ñ–æ–Ω–¥—É**: –ü—Ä—è–º–µ –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —á–µ—Ä–µ–∑ `receive()` –º–æ–∂–µ –Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–µ–ø–æ–∑–∏—Ç–∏ –≥—Ä–∞–≤—Ü—ñ–≤
2. **–ì–∞–∑–æ–≤—ñ –≤–∏—Ç—Ä–∞—Ç–∏**: –¢–µ—Å—Ç–∏ –º–æ–∂—É—Ç—å —Å–ø–æ–∂–∏–≤–∞—Ç–∏ –∑–Ω–∞—á–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–∞–∑—É –Ω–∞ testnet
3. **–ú–µ—Ä–µ–∂–µ–≤—ñ –∑–∞—Ç—Ä–∏–º–∫–∏**: –î–µ—è–∫—ñ —Ç–µ—Å—Ç–∏ –º–æ–∂—É—Ç—å —Ç—Ä–∏–≤–∞—Ç–∏ –¥–æ–≤—à–µ —á–µ—Ä–µ–∑ –∑–∞—Ç—Ä–∏–º–∫–∏ –º–µ—Ä–µ–∂—ñ

## üìù –õ–æ–≥—É–≤–∞–Ω–Ω—è

–¢–µ—Å—Ç–∏ –≤–∫–ª—é—á–∞—é—Ç—å –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è:
- –ß–∞—Å–æ–≤—ñ –º—ñ—Ç–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó
- –•–µ—à—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è
- –ë–∞–ª–∞–Ω—Å–∏ –¥–æ —Ç–∞ –ø—ñ—Å–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π
- –°—Ç–∞—Ç—É—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ —Ç–µ—Å—Ç—É

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è

–¢–µ—Å—Ç–∏ –º–æ–∂–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ CI/CD pipeline:
```bash
# –í GitHub Actions –∞–±–æ —ñ–Ω—à–∏—Ö CI —Å–∏—Å—Ç–µ–º–∞—Ö
npm install
npm run test
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

1. **–ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º –Ω–∞ mainnet**: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –≤—Å—ñ —Ç–µ—Å—Ç–∏ –Ω–∞ testnet
2. **–†–µ–≥—É–ª—è—Ä–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç–∏ –ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ—ó –∑–º—ñ–Ω–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
3. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≥–∞–∑—É**: –í—ñ–¥—Å—Ç–µ–∂—É–π—Ç–µ –≤–∏—Ç—Ä–∞—Ç–∏ –≥–∞–∑—É –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
4. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**: –î–æ–¥–∞–π—Ç–µ –±—ñ–ª—å—à–µ –≥—Ä–∞–≤—Ü—ñ–≤ –¥–ª—è —Å—Ç—Ä–µ—Å-—Ç–µ—Å—Ç—ñ–≤

## üÜò Troubleshooting

### –ü–æ–º–∏–ª–∫–∞ "Insufficient funds"
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤ –≥–∞–º–∞–Ω—Ü—ñ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ IRYS —Ç–æ–∫–µ–Ω—ñ–≤
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –±–∞–ª–∞–Ω—Å: `npm run verify`

### –ü–æ–º–∏–ª–∫–∞ "Only server can call this"
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ `SERVER_WALLET_KEY` –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞ —Å–ø—ñ–≤–ø–∞–¥–∞—î –∑ `SERVER_WALLET_ADDRESS`

### –ü–æ–º–∏–ª–∫–∞ "Contract paused"
- –ö–æ–Ω—Ç—Ä–∞–∫—Ç –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–∏–∑—É–ø–∏–Ω–µ–Ω–æ
- –ó–∞–ø—É—Å—Ç—ñ—Ç—å `unpause()` —á–µ—Ä–µ–∑ –≤–ª–∞—Å–Ω–∏–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É