# üöÄ –î–µ–ø–ª–æ–π —Å–∞–π—Ç—É iryslots.xyz

–¶–µ–π –Ω–∞–±—ñ—Ä —Å–∫—Ä–∏–ø—Ç—ñ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î –≤–∞—à —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥—É —Å–∞–π—Ç—É –∑ –¥–æ–º–µ–Ω–æ–º `iryslots.xyz`.

## üìã –©–æ –≤–∫–ª—é—á–µ–Ω–æ

- **nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∑ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é
- **SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç** - –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –≤—ñ–¥ Let's Encrypt
- **PM2** - –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—ñ–≤ –¥–ª—è Node.js
- **–ë–µ–∑–ø–µ–∫–∞** - fail2ban, —Ñ–∞–π—Ä–≤–æ–ª, –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- **Backup** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è** - —Ä–æ—Ç–∞—Ü—ñ—è –ª–æ–≥—ñ–≤ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

## üõ†Ô∏è –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

1. **Ubuntu/Debian —Å–µ—Ä–≤–µ—Ä** –∑ root –¥–æ—Å—Ç—É–ø–æ–º
2. **–î–æ–º–µ–Ω iryslots.xyz** –∑ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–º–∏ DNS –∑–∞–ø–∏—Å–∞–º–∏:
   ```
   A –∑–∞–ø–∏—Å: iryslots.xyz     -> IP_–í–ê–®–û–ì–û_–°–ï–†–í–ï–†–ê
   A –∑–∞–ø–∏—Å: www.iryslots.xyz -> IP_–í–ê–®–û–ì–û_–°–ï–†–í–ï–†–ê
   ```
3. **–í—ñ–¥–∫—Ä–∏—Ç—ñ –ø–æ—Ä—Ç–∏**: 80, 443, 22

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å–∫—Ä–∏–ø—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –≤—Å—ñ —Ñ–∞–π–ª–∏ –≤ –æ–¥–Ω—É –ø–∞–ø–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
scp *.sh user@your-server:/home/user/deployment/
```

### 2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –≥–æ–ª–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç
```bash
sudo chmod +x install.sh
sudo ./install.sh
```

### 3. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª–∏ –ø—Ä–æ–µ–∫—Ç—É
```bash
# –°–∫–æ–ø—ñ—é–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ /var/www/iryslots
sudo cp -r /path/to/your/project/* /var/www/iryslots/
sudo chown -R www-data:www-data /var/www/iryslots
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
deployment/
‚îú‚îÄ‚îÄ install.sh              # –ì–æ–ª–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ deploy-server.sh         # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è nginx + SSL
‚îú‚îÄ‚îÄ setup-pm2.sh            # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è PM2
‚îú‚îÄ‚îÄ security-setup.sh       # –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
‚îî‚îÄ‚îÄ DEPLOYMENT_README.md    # –¶—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è
```

## ‚öôÔ∏è –î–µ—Ç–∞–ª—å–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### Nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–¥—ñ—Ä–µ–∫—Ç HTTP ‚Üí HTTPS
- Gzip —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è
- –ö–µ—à—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- –ü—Ä–æ–∫—Å—ñ –¥–ª—è API (/api/) –Ω–∞ –ø–æ—Ä—Ç 3001
- –ü—Ä–æ–∫—Å—ñ –¥–ª—è Netlify Functions (/.netlify/functions/) –Ω–∞ –ø–æ—Ä—Ç 8888

### PM2 –ø—Ä–æ—Ü–µ—Å–∏
- `iryslots-server` - –≤–∞—à Node.js —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3001)
- `netlify-dev` - Netlify Dev —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8888)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –∑–∞–¥–∞—á—ñ
- **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥** - –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å–µ—Ä–≤—ñ—Å–∏
- **Backup** - —â–æ–¥–µ–Ω–Ω–æ –æ 2:00 —Ä–∞–Ω–∫—É
- **SSL –æ–Ω–æ–≤–ª–µ–Ω–Ω—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ certbot

## üîß –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

### –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏
```bash
# –°—Ç–∞—Ç—É—Å –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
sudo systemctl status nginx
pm2 status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart nginx
pm2 restart all

# –õ–æ–≥–∏
tail -f /var/log/nginx/error.log
pm2 logs

# –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ PM2
pm2 monit
```

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É
```bash
# 1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –Ω–æ–≤—ñ —Ñ–∞–π–ª–∏
sudo cp -r /new/code/* /var/www/iryslots/

# 2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
cd /var/www/iryslots
sudo npm install

# 3. –ó–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
sudo npm run build

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å–∏
pm2 restart all
sudo systemctl reload nginx
```

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

### –¢–µ—Å—Ç–∏ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Å–∞–π—Ç—É
curl -I https://iryslots.xyz

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ SSL
openssl s_client -connect iryslots.xyz:443 -servername iryslots.xyz

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
sudo nginx -t

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ DNS
nslookup iryslots.xyz
```

## üö® –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –°–∞–π—Ç –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ DNS: `nslookup iryslots.xyz`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ nginx: `sudo systemctl status nginx`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: `tail -f /var/log/nginx/error.log`

### SSL –Ω–µ –ø—Ä–∞—Ü—é—î
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç: `sudo certbot certificates`
2. –û–Ω–æ–≤—ñ—Ç—å —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç: `sudo certbot renew`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é: `sudo nginx -t`

### API –Ω–µ –ø—Ä–∞—Ü—é—î
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ PM2: `pm2 status`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: `pm2 logs`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å: `pm2 restart all`

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

- **Email**: egor4042007@gmail.com
- **–î–æ–º–µ–Ω**: iryslots.xyz
- **–õ–æ–≥–∏**: `/var/log/nginx/` —Ç–∞ `pm2 logs`

## üîê –ë–µ–∑–ø–µ–∫–∞

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î:
- fail2ban –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –∞—Ç–∞–∫
- UFW —Ñ–∞–π—Ä–≤–æ–ª
- –ë–µ–∑–ø–µ—á–Ω—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏ nginx
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- –†–µ–≥—É–ª—è—Ä–Ω—ñ backup'–∏

---

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ DNS –∑–∞–ø–∏—Å–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –¥–æ –∑–∞–ø—É—Å–∫—É —Å–∫—Ä–∏–ø—Ç—ñ–≤, —ñ–Ω–∞–∫—à–µ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –Ω–µ –∑–º–æ–∂–µ –±—É—Ç–∏ –æ—Ç—Ä–∏–º–∞–Ω–∏–π.